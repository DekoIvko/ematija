# Node.js with React
# Build a Node.js project that uses React.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

trigger:
  - develop

pool:
  vmImage: windows-2019

  # steps:
  #   - task: PublishBuildArtifacts@1
  #     inputs:
  #       PathtoPublish: "$(Build.ArtifactStagingDirectory)"
  #       ArtifactName: "drop"
  #       publishLocation: "Container"

stages:
- stage: 'Build'
  displayName: 'Build the web application'
  jobs: 
  - job: 'Build'
    displayName: 'Build Ematija job'
    pool:
      vmImage: 'windows-2019'
      demands:
      - npm

  steps:
    - task: NodeTool@0
      inputs:
        versionSpec: "10.x"
      displayName: "Install Node.js"

    - script: |
        npm install
        npm run build
      displayName: "npm install and build"
